move_to_ravenna_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_roman_city.dds"
	}
	decision_group_type = roman

	desc = move_to_ravenna_decision_desc
	selection_tooltip = move_to_ravenna_decision_tooltip
	ai_check_interval = 500

	is_shown = {
		is_ruler = yes
		is_landed = yes
		has_title = title:e_western_roman_empire
		game_start_date = 395.1.17
		NOT = { capital_county = { this = title:c_ravenna } }
		AND = {
			title:e_western_roman_empire = {
				any_in_de_facto_hierarchy = {
					this = title:c_ravenna
				}
			}
			title:e_western_roman_empire = {
				any_in_de_facto_hierarchy = {
					this = title:d_romagna
				}
			}
		}
		completely_controls = title:d_romagna
		NOT = {  #Can only do it once.
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:move_to_ravenna_decision
			}
		}
	}

	is_valid = {
		has_title = title:e_western_roman_empire
	}
	
	effect = {
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:move_to_ravenna_decision
		}
		custom_tooltip = move_to_ravenna_decision_tooltip
	
		hidden_effect = {

			create_title_and_vassal_change = {
                type = usurped
                save_scope_as = change
                add_claim_on_loss = no
            }
			title:c_como = {
				change_title_holder_include_vassals = {
					holder = title:d_romagna.holder
					change = scope:change
				}
            }
			title:c_novara = {
				change_title_holder_include_vassals = {
					holder = title:d_romagna.holder
					change = scope:change
				}
            }
			title:c_pavia = {
				change_title_holder_include_vassals = {
					holder = title:d_romagna.holder
					change = scope:change
				}
            }
			title:c_cremona = {
				change_title_holder_include_vassals = {
					holder = title:d_romagna.holder
					change = scope:change
				}
            }
			title:c_brescia = {
				change_title_holder_include_vassals = {
				holder = title:d_romagna.holder
					change = scope:change
				}
			}
			title:d_lombardia = {
				change_title_holder_include_vassals = {
					holder = title:d_romagna.holder
					change = scope:change
				}
            }
			resolve_title_and_vassal_change = scope:change	
	
			every_sub_realm_county = {
				# only county directly own by the character - Increases defences of Ravenna
				limit = { holder = title:e_western_roman_empire.holder }
				every_county_province = {
					limit = {
						is_county_capital = yes
					}
					save_scope_as = current_province
					prev.holder = {
						send_interface_toast = {
							type = event_generic_good
							title = milano_walls_decision
							left_icon = scope:current_province
							scope:current_province = { add_building = castle_01 }
						}
					}
				}
			}	

			create_title_and_vassal_change = {
                type = usurped
                save_scope_as = change
                add_claim_on_loss = no
            }
			title:c_ravenna = {
				change_title_holder_include_vassals = {
					holder = title:e_western_roman_empire.holder
					change = scope:change
				}
            }
			title:d_romagna = {
				change_title_holder_include_vassals = {
					holder = title:e_western_roman_empire.holder
					change = scope:change
				}
            }
			resolve_title_and_vassal_change = scope:change
						
			create_title_and_vassal_change = {
                type = usurped
                save_scope_as = change
                add_claim_on_loss = no
            }
			title:c_lombardia = {
				change_title_holder_include_vassals = {
					holder = title:d_lombardia.holder
					change = scope:change
				}
            }
			resolve_title_and_vassal_change = scope:change
	
			every_sub_realm_county = {
				# only county directly own by the character - Increases defences of Ravenna
				limit = { holder = title:e_western_roman_empire.holder }
				every_county_province = {
					limit = {
						is_county_capital = yes
					}
					save_scope_as = current_province
					prev.holder = {
						send_interface_toast = {
							type = event_generic_good
							title = ravenna_walls_decision
							left_icon = scope:current_province
							scope:current_province = { add_building = curtain_walls_04 }
							scope:current_province = { add_building = castle_04 }
						}
					}
				}
			}		
						
			create_title_and_vassal_change = {
                type = usurped
                save_scope_as = change
                add_claim_on_loss = no
            }
			title:c_bologna = {
				change_title_holder_include_vassals = {
					holder = title:e_western_roman_empire.holder
					change = scope:change
				}
            }
			title:c_ferrara = {
				change_title_holder_include_vassals = {
					holder = title:e_western_roman_empire.holder
					change = scope:change
				}
            }
			title:c_urbino = {
				change_title_holder_include_vassals = {
					holder = title:e_western_roman_empire.holder
					change = scope:change
				}
            }
			title:c_casentino = {
				change_title_holder_include_vassals = {
					holder = title:e_western_roman_empire.holder
					change = scope:change
				}
            }
			resolve_title_and_vassal_change = scope:change
		}	
						
		title:e_western_roman_empire.holder = { set_realm_capital = title:c_ravenna }
		title:e_western_roman_empire = {
			set_capital_county = title:c_ravenna
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 30
	}
	cost = { gold = { value = 150 } prestige = { value = 750 } }
}

liberate_the_roman_south_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_roman_dux.dds"
	}
	decision_group_type = roman

	desc = liberate_the_roman_south_decision_desc
	selection_tooltip = liberate_the_roman_south_decision_tooltip

	ai_goal = yes

	is_shown = {
		game_start_date = 476.9.4
		NOT = {  #Can only do it once.
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:liberate_the_roman_south_decision
			}
		}
		culture = { has_cultural_pillar = heritage_latin }
		has_title = title:k_france
	}

	is_valid = {  
		OR = {
			has_title = title:k_france
			has_title = title:e_france
		}
		completely_controls = title:k_aquitaine
		completely_controls = title:k_burgundy
		culture = { has_cultural_pillar = heritage_latin }
	}

	is_valid_showing_failures_only = {
		is_imprisoned = no
	}

	effect = {
		title:k_aquitaine = {
			set_title_name = k_septem_provinciae
			
		}
		title:k_burgundy = {
			every_in_de_jure_hierarchy = {
				limit = {
					tier = tier_duchy
				}
				set_de_jure_liege_title = title:k_aquitaine
			}
		}
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:liberate_the_roman_south_decision
		}
		custom_tooltip = liberate_desc1
		hidden_effect = {
			title:k_aquitaine = {
				every_de_jure_county = {
					limit = {
						culture = {
							NOT = {
								has_cultural_pillar = heritage_latin
							}
						}
					}
					random = {
						chance = 75
						set_county_culture = root.culture
					}
				}
			}
			title:k_burgundy = {
				every_de_jure_county = {
					limit = {
						culture = {
							NOT = {
								has_cultural_pillar = heritage_latin
							}
						}
					}
					random = {
						chance = 75
						set_county_culture = root.culture
					}
				}
			}
		}
		
	}

	ai_potential = {
		always = yes
	}
	cost = {
		prestige = 1000
	}
	ai_will_do = {
		base = 100
	}
}

avenge_the_battle_of_carrhae_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_roman_knight.dds"
	}
	decision_group_type = roman

	desc = avenge_the_battle_of_carrhae_decision_desc
	selection_tooltip = avenge_the_battle_of_carrhae_decision_tooltip

	ai_goal = yes

	is_shown = {
		NOT = {  #Can only do it once.
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:avenge_the_battle_of_carrhae_decision
			}
		}
		OR = {
			culture = { has_cultural_pillar = heritage_latin }
			culture = { has_cultural_pillar = heritage_byzantine }
			culture = { has_cultural_pillar = heritage_hellenistic }
		}
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_roman_empire
		}
	}

	is_valid = {  
		prestige_level >= 3

		completely_controls = title:k_mesopotamia
		completely_controls = title:c_ctesiphon
		title:k_mesopotamia = { title_held_years >= 10 }
		OR = {
			culture = { has_cultural_pillar = heritage_latin }
			culture = { has_cultural_pillar = heritage_byzantine }
			culture = { has_cultural_pillar = heritage_hellenistic }
		}
		NOT = {
			has_trait = forgiving 
		}
	}
	is_valid_showing_failures_only = {
		is_imprisoned = no
	}

	effect = {
		show_as_tooltip = {
			give_nickname = nick_parthicus
			add_prestige = 1000
			add_gold = 500
			capital_county = {
				add_county_modifier = {
					modifier = carrhae_avenged
					years = 50
				}
			}
			province:4796 = {
				remove_building = taq-kasra
			}
			title:k_mesopotamia = {
				change_development_level = -5
			}
			title:c_ctesiphon = {
				change_development_level = -5
			}
		}

		trigger_event = TFE_flavour_events.0008
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:avenge_the_battle_of_carrhae_decision
		}
	}

	ai_potential = {
		always = yes
	}
	cost = {
		prestige = 500
	}
	ai_will_do = {
		base = 100
	}
}

split_the_empire = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_split_roman_empire.dds"
	}
	decision_group_type = roman

	desc = split_the_empire_desc
	selection_tooltip = split_the_empire_tooltip
	ai_check_interval = 6

	is_shown = {
		is_ruler = yes
		is_landed = yes
		has_title = title:e_roman_empire
		title:e_roman_empire = {
			is_titular = no
		}
		OR = {
			AND = {
				title:e_western_roman_empire = {
					is_title_created = no
				}
				title:e_byzantium = {
					is_title_created = no
				}
			}
			NOT = {
				has_character_flag = split_empire_upon_death
			}
		}
	}

	is_valid = {
		has_title = title:e_roman_empire
		custom_tooltip = {
			text = child_inherits_roman_empire_tt
			title:e_roman_empire = {
				any_title_heir = {
					is_alive = yes
					is_child_of = root
				}
			}
		}
		OR = {
			AND = {
				OR = {
					has_realm_law = male_only_law
					has_realm_law = male_preference_law
				}
				custom_tooltip = {
					text = male_pref_split_tt
					OR = {
						any_child = {
							count >= 2
							is_alive = yes
							is_male = yes
						}
						AND = {
							title:e_roman_empire = {
								any_title_heir = {
									is_alive = yes
									is_child_of = root
									is_male = no
								}
							}
							any_child = {
								count >= 1
								is_alive = yes
								is_male = yes
							}
						}
					}
				}
			}
			AND = {
				OR = {
					has_realm_law = female_only_law
					has_realm_law = female_preference_law
				}
				custom_tooltip = {
					text = female_pref_split_tt
					OR = {
						any_child = {
							count >= 2
							is_alive = yes
							is_male = no
						}
						AND = {
							title:e_roman_empire = {
								any_title_heir = {
									is_alive = yes
									is_child_of = root
									is_male = yes
								}
							}
							any_child = {
								count >= 1
								is_alive = yes
								is_male = no
							}
						}
					}
				}
			}
			AND = {
				OR = {
					has_realm_law = equal_law
				}
				custom_tooltip = {
					text = equal_pref_split_tt
					any_child = {
						count >= 2
						is_alive = yes
					}
				}
			}
		}
		trigger_if = {
			limit = {
				is_ai = yes
			}
			prestige_level >= 2
		}
		trigger_else = {
			prestige_level >= 3
		}
		trigger_if = {
			limit = {
				is_ai = no
			}
			title:e_roman_empire = {
				title_held_years >= 10 #to stop the player from using it to just get rid of a bad ruler then conquer the other half quickly
			
			}
		}
	}
	
	effect = {
		custom_tooltip = split_the_empire.custom.tooltip.1
		custom_tooltip = split_the_empire.custom.tooltip.2
		add_prestige = 500
		primary_heir = {
			save_scope_as = roman_split_primary_heir
		}
		if = {
			limit = {
				OR = {
					has_realm_law = male_only_law
					has_realm_law = male_preference_law
				}
			}
			random_child = {
				limit = {
					NOT = {
					is_primary_heir_of = root
					}
					is_male = yes
				}
				save_scope_as = roman_split_secondary_heir
			}
		}
		else_if = {
			limit = {
				OR = {
					has_realm_law = female_only_law
					has_realm_law = female_preference_law
				}
			}
			random_child = {
				limit = {
					NOT = {
						is_primary_heir_of = root
					}
					is_male = no
				}
				save_scope_as = roman_split_secondary_heir
			}
		}
		else = {
			random_child = {
				limit = {
					NOT = {
						is_primary_heir_of = root
					}
				}
				save_scope_as = roman_split_secondary_heir
			}
		}
		show_as_tooltip = {
			title:e_roman_empire = {
				root = {
					destroy_title = PREV
				}
			}
			scope:roman_split_primary_heir = {
				get_title = title:e_western_roman_empire
			}
			scope:roman_split_secondary_heir = {
				get_title = title:e_byzantium
			}
		}
		save_scope_as = split_emperor
		trigger_event = tfe_title_event.0004 
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 100
			AND = {
				exists = var:diplo_comp
				exists = var:civic_comp
				exists = var:mil_comp
			}
			OR = {
				AND = {
					var:diplo_comp <= 500
					var:civic_comp <= 500
				}
				AND = {
					var:diplo_comp <= 500
					var:mil_comp <= 500
				}
				AND = {
					var:civic_comp <= 500
					var:mil_comp <= 500
				}
			}
		}
	}
	cost = { gold = { value = 150 if = { limit = { is_ai = yes } multiply = 0 } } prestige = { value = 300 if = { limit = { is_ai = yes } multiply = 0 } } }
}

tfe_byzantine_army_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_roman_officers.dds"
	}
	decision_group_type = roman

	desc = tfe_byzantine_army_decision_desc
	selection_tooltip = tfe_byzantine_army_decision_tooltip
	ai_goal = yes
	
	is_shown = {
		has_title = title:e_byzantium
		NOR = {
			exists = title:e_western_roman_empire.holder
			culture = {
				has_cultural_tradition = tradition_tfe_byzantine_army
			}
		}
		#Can only do it once.
		NOT = {
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:tfe_byzantine_army_decision
			}
		}
	}

	is_valid = {
		martial >= 20
		OR = {
			tfe_has_won_at_least_amount_wars = {
				AMOUNT = 5
			}
			tfe_has_at_least_amount_mil_competence_trigger = {
				AMOUNT = 1600
			}
		}
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}
	
	effect = {
		custom_tooltip = tfe_unlocks_byzantine_maa_effect
		hidden_effect = {
			culture = {
				add_culture_tradition = tradition_tfe_byzantine_army
			}
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:tfe_byzantine_army_decision
			}
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
	
	cost = { gold = { value = 1000 if = { limit = { is_ai = yes } multiply = 0 } } prestige = { value = 2000 if = { limit = { is_ai = yes } multiply = 0 } } }

}

recruit_foreign_specialist_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_invite_knights.dds"
	}
	decision_group_type = roman

	ai_check_interval = 60

	cooldown = { years = 5 }
	
	desc = recruit_foreign_specialist_decision_desc
	selection_tooltip = recruit_foreign_specialist_decision_tt

	is_shown = {
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_western_roman_empire
			has_title = title:e_roman_empire
		}
	}

	effect = {
		root = {
			save_scope_as = emperor
		}
		trigger_event = TFE_minor_decisions.0006
	}

	cost = {
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100

		modifier = {
			factor = 0
			any_courtier = {
				martial >= 16
			}
		}
	}
}

nepos_ambition = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_destiny_goal.dds"
	}
	decision_group_type = roman

	ai_goal = yes

	desc = nepos_ambition_desc
	selection_tooltip = nepos_ambition_tooltip

	is_shown = {
		has_global_variable = nepos_ambition_var
		has_character_flag = nepos_ambition_triggered
		NOT = {
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:nepos_ambition
			}
		}
		exists = title:e_byzantium.holder
		NOT = {
			AND = {
				title:k_italy = {
					is_title_created = yes
					
				}
				title:e_byzantium = {
					is_title_created = yes
				}
				is_permanent_tributary = {
					SUZERAIN = title:e_byzantium.holder
					TRIBUTARY = title:k_italy.holder
				}
			}
		}
	}

	effect = {
		every_vassal = {
			add_opinion = {
				modifier = angry_opinion
				target = root
				opinion = -20
			}
		}
		root = {
			save_scope_as = nepos
		}
		title:e_byzantium.holder = {
			save_scope_as = ere_emperor
		}
		#custom_tooltip = nepos_ambition_custom_tooltip
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:nepos_ambition
		}
		title:e_byzantium.holder = {
			trigger_event = {
				id = western_roman.0029
				days = 1
			}
		}
		trigger_event = western_roman.0028
	}

	cost = {
		prestige = {
			if = {
				limit = {
					is_ai = no
				}
				add = {
					value = 1000
				}
			}
		}
		gold = {
			if = {
				limit = {
					is_ai = no
				}
				add = {
					value = 250
				}
			}
		}
	}

	ai_potential = {
		is_at_war = no
	}
	ai_will_do = {
		base = 100
	}

}

rebuild_third_temple = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_destiny_goal.dds"
	}
	decision_group_type = religious

	ai_check_interval = 24

	desc = rebuild_third_temple_desc
	selection_tooltip = rebuild_third_temple_tooltip

	is_shown = {
		#OR = {
		#	has_title = title:e_byzantium
		#	has_title = title:e_western_roman_empire
		#	has_title = title:e_roman_empire
		#}
		NOT = {
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:rebuild_third_temple
			}
		}
		completely_controls = title:c_jerusalem
		NOT = {
			AND = {
				exists = faith
				OR = {
					faith.religion = religion:islam_religion
					faith.religion = religion:christianity_religion
				}
			}
		}
	}

	is_valid = {
		OR = {
			has_trait = scholar
			has_trait = theologian
			faith.religion = faith:rabbinism.religion
		}
		completely_controls = title:c_jerusalem
		completely_controls = title:c_jaffa
		completely_controls = title:c_ghazza
		gold >= 1500
	}

	effect = {
		set_global_variable = {
			name = julian
			value = root
		}
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:rebuild_third_temple
		}
		trigger_event = western_roman.0031
		custom_tooltip = rebuild_third_temple_custom_desc
		show_as_tooltip = {
			custom_tooltip = faith_third_temple
			root = {
				add_prestige = 2500
				dynasty = {
					add_dynasty_prestige = 500
				}
				add_character_modifier = rebuilt_third_temple
				custom_tooltip = {
				text = third_temple_reward_opinion
					every_vassal_or_below = {
						if = {
							limit = {
								faith.religion = faith:nicene.religion
								has_trait = zealous
							}
							random_list = {
								33 = {}
								67 = {
									set_character_faith_with_conversion = scope:julian.faith
								}
							}
						}
					}
					every_vassal_or_below = {
						if = {
							limit = {
								faith.religion = faith:rabbinism.religion
							}
							add_opinion = {
								modifier = respect_opinion
								target = scope:julian
								opinion = 100
							}
						}
					}
				}
			}
			custom_tooltip = jewish_convert_third_temple
		}
	}

	cost = {
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}

}













build_alexandria_temple = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_destiny_goal.dds"
	}
	decision_group_type = religious

	ai_check_interval = 12

	desc = build_alexandria_temple_desc
	selection_tooltip = build_alexandria_temple_tooltip

	is_shown = {
		is_landed = yes
		title:b_alexandria.title_province = { has_province_modifier = library_construct }
		completely_controls = title:c_alexandria
		religion = religion:christianity_religion
		is_independent_ruler = yes
	}

	is_valid = {
	}

	effect = {
		show_as_tooltip = {
			title:b_alexandria.title_province = {
				add_building = holy_site_cathedral_01
			}
		}
		hidden_effect = {
			title:b_alexandria.title_province = {
				remove_building = library_of_alexandria
				add_building = holy_site_cathedral_01
				remove_province_modifier = library_construct
				add_province_modifier = cathedral_construct
			}
		}
	}

	cost = {
		gold = {
			if = {
				limit = {
					is_ai = no
				}
				add = {
					value = 1000
				}
			}
		}
		piety = {
			if = {
				limit = {
					is_ai = no
				}
				add = {
					value = 250
				}
			}
		}
	}

	ai_potential = {
		is_at_war = no
	}
	ai_will_do = {
		base = 100
	}
}

build_alexandria_library = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_destiny_goal.dds"
	}
	decision_group_type = religious

	ai_check_interval = 12

	desc = build_alexandria_library_desc
	selection_tooltip = build_alexandria_library_tooltip

	is_shown = {
		is_landed = yes
		title:b_alexandria.title_province = { has_province_modifier = cathedral_construct }
		completely_controls = title:c_alexandria
		NOT = { religion = religion:christianity_religion }
		is_independent_ruler = yes
	}

	is_valid = {
	}

	effect = {
		show_as_tooltip = {
			title:b_alexandria.title_province = {
				add_special_building_slot = library_of_alexandria
			}
		}
		hidden_effect = {
			title:b_alexandria.title_province = {
				remove_building = holy_site_cathedral_01
				remove_province_modifier = cathedral_construct
				add_province_modifier = library_construct
				
			}
		}
	}

	cost = {
		piety = {
			if = {
				limit = {
					is_ai = no
				}
				add = {
					value = 250
				}
			}
		}
	}

	ai_potential = {
		is_at_war = no
	}
	ai_will_do = {
		base = 100
	}
}

######################  Abandon Britannia

#Create the Province of Caledonia
create_the_province_of_caledonia_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_caledonia.dds"
	}
	decision_group_type = roman

	desc = create_the_province_of_caledonia_decision_desc
	selection_tooltip = create_the_province_of_caledonia_decision_tooltip
	ai_goal = yes

	is_shown = {
		is_ruler = yes
		is_landed = yes
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_western_roman_empire
			has_title = title:e_roman_empire
			has_title = title:e_gaul
		}
		NOT = {  #Can only do it once.
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:created_province_of_caledonia
			}
			AND = {
				is_target_in_global_variable_list = {
					name = unavailable_unique_decisions
					target = flag:flag_abandoned_britannia
				}
				NOT = {
					is_target_in_global_variable_list = {
						name = unavailable_unique_decisions
						target = flag:britannia_reclaimed
					}
				}
			}
		}
		OR = { # must first restore diocese of britannia
			any_vassal = {
				has_title = title:k_britannia
			}
			has_title = title:k_britannia
		}		
	}

	is_valid = {
		prestige_level >= medium_prestige_level

		OR = {
			religion = religion:christianity_religion
			religion = religion:hellenism_religion
			is_greek_or_roman = yes
		}

		completely_controls_region = custom_roman_caledonia
		
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_independent_ruler = yes
	}

	effect = {
		hidden_effect = {
			dejure_shift_create_caledonia_effect = yes

			create_title_and_vassal_change = {
				type = created
				save_scope_as = title_change
				add_claim_on_loss = no
			}
			title:d_caledonia = {
				save_scope_as = title_d_caledonia
			}
			title:d_caledonia = {
				change_title_holder = {
					holder = root
					change = scope:title_change
				}
				save_scope_as = title_d_caledonia
			}
			resolve_title_and_vassal_change = scope:title_change

			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:created_province_of_caledonia
			}
		}
		trigger_event = {
			id = western_roman.0060
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}

#Create the Province of Hibernia
create_the_province_of_hibernia_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_hibernia.dds"
	}
	decision_group_type = roman

	desc = create_the_province_of_hibernia_decision_desc
	selection_tooltip = create_the_province_of_hibernia_decision_tooltip
	ai_goal = yes

	is_shown = {
		is_ruler = yes
		is_landed = yes
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_western_roman_empire
			has_title = title:e_roman_empire
			has_title = title:e_gaul
		}
		NOT = {  #Can only do it once.
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:created_province_of_hibernia
			}
			AND = {
				is_target_in_global_variable_list = {
					name = unavailable_unique_decisions
					target = flag:flag_abandoned_britannia
				}
				NOT = {
					is_target_in_global_variable_list = {
						name = unavailable_unique_decisions
						target = flag:britannia_reclaimed
					}
				}
			}
		}
		OR = { # must first restore diocese of britannia
			any_vassal = {
				has_title = title:k_britannia
			}
			has_title = title:k_britannia
		}	
	}

	is_valid = {
		prestige_level >= medium_prestige_level

		OR = {
			religion = religion:christianity_religion
			religion = religion:hellenism_religion
			culture = culture:roman
		}

		completely_controls_region = custom_roman_hibernia
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_independent_ruler = yes
	}

	effect = {
		hidden_effect = {
			dejure_shift_create_hibernia_effect = yes

			create_title_and_vassal_change = {
				type = created
				save_scope_as = title_change
				add_claim_on_loss = no
			}
			title:d_hibernia_superior = {
				save_scope_as = title_d_hibernia_superior
				change_title_holder = {
					holder = root
					change = scope:title_change
				}
				save_scope_as = title_d_hibernia_superior
			}
			title:d_hibernia_inferior = {
				save_scope_as = title_d_hibernia_inferior
				change_title_holder = {
					holder = root
					change = scope:title_change
				}
				save_scope_as = title_d_hibernia_inferior
			}
			resolve_title_and_vassal_change = scope:title_change

			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:created_province_of_hibernia
			}
		}
		trigger_event = {
			id = western_roman.0061
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}

#Form Rome
form_rome_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_reunite_rome.dds"
	}
	decision_group_type = roman

	desc = form_rome_decision_desc
	selection_tooltip = form_rome_decision_tooltip
	ai_goal = yes

	is_shown = {
		is_ruler = yes
		is_landed = yes
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_western_roman_empire
			has_title = title:e_gaul
			has_title = title:e_palmyrene
		}
		title:e_roman_empire = {
			is_titular = yes
		}
	}

	is_valid = {
		prestige_level >= high_prestige_level

		OR = {
			religion = religion:christianity_religion
			religion = religion:hellenism_religion
			culture = culture:roman
		}

		completely_controls_region = custom_roman_heartland
		completely_controls_region = custom_roman_hispania
		completely_controls_region = custom_roman_africae
		completely_controls_region = custom_roman_egypt
		completely_controls_region = custom_eastern_roman_heartland
		completely_controls_region = custom_roman_full_borders
		
	}

	is_valid_showing_failures_only = {
		is_imprisoned = no
		is_independent_ruler = yes
	}

	effect = {
		create_title_and_vassal_change = {
			type = created
			save_scope_as = title_change
			add_claim_on_loss = no
		}
		title:e_roman_empire = {
			save_scope_as = title_e_roman_empire
		}
		title:e_roman_empire = {
			change_title_holder = {
				holder = root
				change = scope:title_change
			}
			save_scope_as = title_e_roman_empire
		}
		resolve_title_and_vassal_change = scope:title_change
		
		trigger_event = {
			id = province_events.0056
		}

		add_prestige = 1500
		give_nickname = nick_restitutor_orbis
		add_trait = restitutor_orbis
		destroy_title = title:e_byzantium
		destroy_title = title:e_western_roman_empire
		hidden_effect = {
			title:e_byzantium = {
				every_in_de_jure_hierarchy = {
					limit = {
						tier = tier_kingdom
					}
					set_de_jure_liege_title = title:e_roman_empire
				}
			}
			title:e_western_roman_empire = {
				every_in_de_jure_hierarchy = {
					limit = {
						tier = tier_kingdom
					}
					set_de_jure_liege_title = title:e_roman_empire
				}
			}
			title:e_roman_empire = {
                add_title_law = imperial_elective_succession_law
            }
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:formed_rome
			}
		}
	}

	ai_potential = {
		always = yes
	}

	cost = { gold = { value = 500 if = { limit = { is_ai = yes } multiply = 0 } } prestige = { value = 1000 if = { limit = { is_ai = yes } multiply = 0 } } }

	ai_will_do = {
		base = 100
	}
}

#something epic will happen below this, i'm sure

#something epic is indeed happening
#Restore the Praetorian Guard - Hróðvitnir + Wrench
restore_praetorian_guard_decision = {
	picture = {
		reference = "gfx/interface/illustrations/legion_bg_thin.dds"
	}
	decision_group_type = roman

	desc = restore_praetorian_guard_decision_desc
	ai_check_interval = 60
	selection_tooltip = restore_praetorian_guard_decision_tooltip
	
	is_shown = {
		is_landed = yes
		NOT = { government_allows = administrative }
		exists = dynasty
		culture = { has_cultural_parameter = powerful_rulers_raise_legions }
		any_held_title = {
			tier = tier_county
			title_province = {
				OR = {
					geographical_region = custom_roman_full_borders
				}
			}
		}
		NOT = {
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:flag_restored_praetorian_guard
			}
		}
		title:c_viterbo = {
			NOT = {
				has_variable = prae_guard
			}
		}
		completely_controls = title:c_viterbo
	}
	
	is_valid = {
		is_independent_ruler = yes
		prestige_level >= high_prestige_level
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_western_roman_empire
			has_title = title:e_roman_empire
		}
	}

	is_valid_showing_failures_only = {
		is_independent_ruler = yes
		is_at_war = no
	}
	
	effect = {
		create_character = {
			culture = root.culture
			gender = male
			dynasty = generate
			faith = root.faith
			trait = education_martial_4
			trait = brave
			location = root.capital_province
			save_scope_as = legion_holder
		}
		create_title_and_vassal_change = {
			type = created
			save_scope_as = title_change
			add_claim_on_loss = no
		}
		title:c_viterbo = {
			change_title_holder = {
				holder = scope:legion_holder
				change = scope:title_change
			}
		}
		resolve_title_and_vassal_change = scope:title_change

		create_title_and_vassal_change = {
			type = created
			save_scope_as = change
			add_claim_on_loss = no
		}
		hidden_effect = {
			scope:legion_holder = {
				change_liege = {
					liege = root
					change = scope:change
				}
				change_government = legion_government
				add_realm_law_skip_effects = mercenary_company_succession_law
			}
		}
		resolve_title_and_vassal_change = scope:change

		title:c_viterbo = {
			save_temporary_scope_as = new_legion_tmp
			PREV = {
				add_to_variable_list = {
					name = legion_counties
					target = scope:new_legion_tmp
				}
				remove_list_variable = {
					name = legion_county_available
					target = scope:new_legion_tmp
				}

			}
			set_variable = {
				name = prae_guard
				value = yes
			}
		}
		trigger_event = {
			id = province_events.0007
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
	
	cost = { gold = { value = 2500 if = { limit = { is_ai = yes } multiply = 0 } } }

}

overthrow_the_emperor = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_invite_knights.dds"
	}
	decision_group_type = roman

	desc = overthrow_the_emperor_desc
	selection_tooltip = overthrow_the_emperor_tooltip

	ai_check_interval = 60

	cooldown = { years = 50 }

	is_shown = {
		government_has_flag = government_is_legion
		has_title = title:c_viterbo
		title:c_viterbo = {
			has_variable = prae_guard
		}
		top_liege = {
			OR = {
				has_title = title:e_byzantium
				has_title = title:e_western_roman_empire
				has_title = title:e_roman_empire
			}
		}
	}

	is_valid = {
		trigger_if = {
			limit = {
				is_ai = yes
			}
			prestige_level >= 2
		}
		trigger_else = {
			prestige_level >= 3
		}
	}

	is_valid_showing_failures_only = {
		is_imprisoned = no
	}
	
	cost = { gold = { value = 500 if = { limit = { is_ai = yes } multiply = 0.1 } } prestige = { value = 1000 if = { limit = { is_ai = yes } multiply = 0.1 } } }
	
	effect = {
		custom_tooltip = overthrow_the_emperor_effect_tooltip
		trigger_event = {
			id = province_events.0008
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 10
		modifier = {
			add = 10
			opinion = {
				target = top_liege
				value <= -40
			}
		}
		modifier = {
			add = 10
			opinion = {
				target = top_liege
				value <= -60
			}
		}
		modifier = {
			add = 10
			opinion = {
				target = top_liege
				value <= -80
			}
		}
		modifier = {
			add = 15
			OR = {
				top_liege = {
					has_trait = possessed_1
				}
				top_liege = {
					has_trait = possessed_genetic
				}
				top_liege = {
					has_trait = lunatic_1
				}
				top_liege = {
					has_trait = lunatic_genetic
				}
			}
		}

	}
}

#Restore Western Rome - Hróðvitnir
restore_the_west = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_wre.dds"
	}
	decision_group_type = roman

	desc = restore_the_west_desc
	selection_tooltip = restore_the_west_tooltip
	ai_goal = yes

	is_shown = {
		is_landed = yes
		exists = dynasty
		OR = {
			culture = { has_cultural_pillar = heritage_latin }
		}
		title:e_western_roman_empire = {
			is_title_created = no
		}
		title:e_roman_empire = {
			is_title_created = no
		}
		highest_held_title_tier < tier_empire
	}

	is_valid = {
		is_independent_ruler = yes
		prestige_level >= high_prestige_level
		OR = {
			government_has_flag = government_is_autocratic
			government_has_flag = government_is_roman
			government_has_flag = government_is_autocratic_ep3
		}
		completely_controls = title:d_latium
		completely_controls = title:d_friuli
		completely_controls = title:d_romagna
		completely_controls = title:d_sicily
		completely_controls = title:d_lombardia
		completely_controls = title:d_apulia
		completely_controls = title:d_tunis
		completely_controls = title:d_dalmatia
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_independent_ruler = yes
		is_at_war = no
	}
	effect = {		
		save_scope_as = founder
		show_as_tooltip = { restore_the_west_effect = yes }
		trigger_event = { id = western_roman.0011 }
		#government stuff
		if = {
			limit = {
				has_dlc_feature = roads_to_power
			}
			change_government = administrative_government
		}
		else = {
		change_government = imperial_government
		}
		every_vassal = {
			limit = {
				OR = {
					government_has_flag = government_is_autocratic
					AND = {
						government_has_flag = government_is_roman
						highest_held_title_tier > tier_county
					}
				}
			}
			if = {
				limit = {
					has_dlc_feature = roads_to_power
				}
				change_government = administrative_government
			}
			else = {
			change_government = imperial_government
			}
		}
		#notify other players
		every_player = {
			limit = {
				NOT = { this = scope:founder }
			}
			#vassal players get a separate event
			if = {
				limit = {
					any_liege_or_above = { this = scope:founder }
				}
				trigger_event = western_roman.0012
			}
			#germanics get a separate event
			if = {
				limit = {
					culture = { has_cultural_pillar = heritage_north_germanic }
					culture = { has_cultural_pillar = heritage_west_germanic }
					culture = { has_cultural_pillar = heritage_east_germanic }
					culture = { has_cultural_pillar = heritage_central_germanic }
				}
				trigger_event = western_roman.0013
			}
			#slavs get a separate event
			if = {
				limit = {
					culture = { has_cultural_pillar = heritage_slavic }
					culture = { has_cultural_pillar = heritage_south_slavic }
				}
				trigger_event = western_roman.0014
			}
			#everyone else within range gets a less personal version
			else = { trigger_event = western_roman.0015 }
		}
		hidden_effect = {
			if = {
				limit = {
					title:e_italy = {
						is_titular = no
					}
				}
				title:e_italy = {
					every_in_de_jure_hierarchy = {
						set_de_jure_liege_title = title:e_western_roman_empire
					}
				}
			}	
		}
	}

	cost = { gold = { value = 1000 if = { limit = { is_ai = yes } multiply = 0 } } prestige = { value = 500 if = { limit = { is_ai = yes } multiply = 0 } } piety = { value = 500 if = { limit = { is_ai = yes } multiply = 0 } } }

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}





restore_the_east_empire = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_dynasty_house.dds"
	}
	decision_group_type = roman

	desc = restore_the_east_empire_desc
	selection_tooltip = restore_the_east_empire_tooltip
	ai_goal = yes

	is_shown = {
		is_landed = yes
		exists = dynasty
		OR = {
			culture = { has_cultural_pillar = heritage_latin }
		}
		#capital must be in rome
		title:e_byzantium = {
			any_in_de_jure_hierarchy = {
				THIS = root.capital_county
			}
			is_title_created = no
		}
		title:e_roman_empire = {
			is_title_created = no
		}
		highest_held_title_tier = tier_empire
		NOT = {
			has_title = title:e_western_roman_empire
		}
		NOT = {
			government_has_flag = government_is_roman
		}
	}

	is_valid = {
		is_independent_ruler = yes
		prestige_level >= high_prestige_level
		highest_held_title_tier = tier_empire
		OR = {
			government_has_flag = government_is_imperial
			government_has_flag = government_is_imperial_cult
			government_has_flag = government_is_autocratic
			government_has_flag = government_is_autocratic_ep3
			government_has_flag = government_is_administrative
		}
		completely_controls = title:d_thrace
		completely_controls = title:d_alexandria
		completely_controls = title:d_delta
		completely_controls = title:d_palestine
		completely_controls = title:d_antioch
		completely_controls = title:d_achaia
		completely_controls = title:d_krete
		completely_controls = title:d_thessalonika
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_independent_ruler = yes
		is_at_war = no
	}

	effect = {
		save_scope_as = founder
		show_as_tooltip = { restore_the_east_effect = yes }
		trigger_event = { id = western_roman.0021 }
		#notify other players
		every_player = {
			limit = {
				NOT = { this = scope:founder }
			}
			#vassal players get a separate event
			if = {
				limit = {
					any_liege_or_above = { this = scope:founder }
				}
				trigger_event = eastern_roman.0002
			}
			#germanics get a separate event
			if = {
				limit = {
					culture = { has_cultural_pillar = heritage_north_germanic }
					culture = { has_cultural_pillar = heritage_west_germanic }
					culture = { has_cultural_pillar = heritage_east_germanic }
					culture = { has_cultural_pillar = heritage_central_germanic }
				}
				trigger_event = eastern_roman.0003
			}
			#slavs get a separate event
			if = {
				limit = {
					culture = { has_cultural_pillar = heritage_slavic }
					culture = { has_cultural_pillar = heritage_south_slavic }
				}
				trigger_event = eastern_roman.0004
			}
			#everyone else within range gets a less personal version
			else = { trigger_event = eastern_roman.0005 }
		}
	}

	cost = { gold = { value = 750 if = { limit = { is_ai = yes } multiply = 0 } } prestige = { value = 250 if = { limit = { is_ai = yes } multiply = 0 } } piety = { value = 250 if = { limit = { is_ai = yes } multiply = 0 } } }

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}

#Create the Province of Germania
create_the_province_of_germania_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_germania.dds"
	}
	decision_group_type = roman

	desc = create_the_province_of_germania_decision_desc
	selection_tooltip = create_the_province_of_germania_decision_tooltip
	ai_goal = yes

	is_shown = {
		is_ruler = yes
		is_landed = yes
		OR = {

			
			any_vassal = {
				has_title = title:k_gallia
			}
			
			has_title = title:k_gallia
		}
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_western_roman_empire
			has_title = title:e_roman_empire
			has_title = title:e_gaul
		}
		NOT = {  #Can only do it once.
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:created_province_of_germania
			}
		}
		
	}

	is_valid = {
		prestige_level >= medium_prestige_level

		OR = {
			religion = religion:christianity_religion
			religion = religion:hellenism_religion
			is_greek_or_roman  = yes
		}

		completely_controls_region = custom_roman_germania
		
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_independent_ruler = yes
	}

	effect = {
		create_title_and_vassal_change = {
			type = created
			save_scope_as = title_change
			add_claim_on_loss = no
		}
		title:k_germania = {
			save_scope_as = title_k_germania
		}
		title:k_germania = {
			change_title_holder = {
				holder = root
				change = scope:title_change
			}
			save_scope_as = title_k_germania
		}
		resolve_title_and_vassal_change = scope:title_change

		hidden_effect = {
			title:d_westfalen = {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_thuringia = {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_angria = {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_meissen = {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_anhalt = {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_ostfalen = {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_nordgau= {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_swabia = {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_west_franconia = {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_east_franconia = {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_hesse = {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_bructeria = {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_holland = {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_frisia = {
				set_de_jure_liege_title = title:k_germania
			}
			title:d_utrecht = {
				set_de_jure_liege_title = title:k_germania
			}
			title:k_germania = {
				set_de_jure_liege_title = root.primary_title
			}
			title:d_holstein = {
				set_de_jure_liege_title = title:k_denmark
			}
			title:d_lausitz = {
				set_de_jure_liege_title = title:k_poland
			}
			title:k_pomerania = {
				set_de_jure_liege_title = title:e_scandinavia
			}
			title:k_bohemia = {
				set_de_jure_liege_title = title:e_west_slavia
			}
				
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:created_province_of_germania
			}
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}

# Create the Province of Dacia
create_the_province_of_dacia_decision = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_dacia.dds"
	}
	decision_group_type = roman

	desc = create_the_province_of_dacia_decision_desc
	selection_tooltip = create_the_province_of_dacia_decision_tooltip
	ai_goal = yes

	is_shown = {
		is_ruler = yes
		is_landed = yes

		OR = {
			any_vassal = {
				has_title = title:k_daciae
			}
			any_vassal = {
				has_title = title:k_pannonia
			}
			has_title = title:k_daciae
			has_title = title:k_pannonia
		}
		OR = {
			has_title = title:e_byzantium
			has_title = title:e_western_roman_empire
			has_title = title:e_roman_empire
		}
		NOT = {  #Can only do it once.
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:created_province_of_dacia
			}
		}
		
	}

	is_valid = {
		prestige_level >= medium_prestige_level
		OR = {
			religion = religion:christianity_religion
			religion = religion:hellenism_religion
			is_greek_or_roman = yes
		}

		completely_controls_region = custom_roman_dacia
		
	}

	is_valid_showing_failures_only = {
		is_capable_adult = yes
		is_imprisoned = no
		is_independent_ruler = yes
	}

	effect = {
		create_title_and_vassal_change = {
			type = created
			save_scope_as = title_change
			add_claim_on_loss = no
		}
		title:k_roman_dacia = {
			save_scope_as = title_k_roman_dacia
		}
		title:k_roman_dacia = {
			change_title_holder = {
				holder = root
				change = scope:title_change
			}
			save_scope_as = title_k_roman_dacia
		}
		resolve_title_and_vassal_change = scope:title_change

		hidden_effect = {
			title:d_oltenia = {
				set_de_jure_liege_title = title:k_roman_dacia
			}
			title:d_transylvania = {
				set_de_jure_liege_title = title:k_roman_dacia
			}
			title:d_temes = {
				set_de_jure_liege_title = title:k_roman_dacia
			}
			title:d_bihar = {
				set_de_jure_liege_title = title:k_roman_dacia
			}
			title:k_roman_dacia = {
				set_de_jure_liege_title = root.primary_title
			}
				
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:created_province_of_dacia
			}
		}
		title:k_daciae = {
			set_title_name = MOESIA
		}
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}
}