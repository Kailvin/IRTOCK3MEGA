namespace = germanic_events

# Modernize the Frankish Kingdom

germanic_events.0001 = {
	title = germanic_events.0001.t
	desc =  germanic_events.0001.desc
	scope = character
	theme = diplomacy
	override_background = {
		reference = battlefield
	}
	left_portrait = {
		character = root
		animation = personality_honorable
	}

	immediate = {
		play_music_cue = "TFE_General_Cue"
	}

	option = {
		name = germanic_events.0001.option
		custom_tooltip = germanic_events.0001.option.tooltip
	}
}

# Unite the Franks
germanic_events.0002 = {
	type = character_event
	title = germanic_events.0002.t
	desc = germanic_events.0002.desc
	theme = diplomacy
	left_portrait = {
		character = root
		animation = sword_coup_degrace
	}

	override_background = {
		reference = throne_room
	}

	immediate = {
		play_music_cue = "TFE_General_Cue"
		hidden_effect = {
			# Make a list of all duchies with franks in them
			#culture:frankish = {
			#	every_culture_county = {
			#		duchy = {
			#			add_to_list = frankish_duchies
			#		}
			#	}
			#}

			# Iterate through frankish duchies list and add the ones with 80% or more frankish counties to the de jure of the frankish kingdom
			#every_in_list = {
				#list = frankish_duchies
				#limit = {
				#	any_in_de_jure_hierarchy = {
				#		condition = { tier = tier_county }
				#		culture = culture:frankish 
				#		percent >= 0.8
				#	}
				#}
				#set_de_jure_liege_title = title:k_franks
			#}

			culture:ripurian = {
				every_culture_county = {
					limit = {
						NOT = {
							kingdom = title:k_lotharingia
						}
					}
					duchy = {
						set_de_jure_liege_title = title:k_lotharingia
					}
				}
			}
			culture:salian = {
				every_culture_county = {
					limit = {
						NOT = {
							kingdom = title:k_lotharingia
						}
					}
					duchy = {
						set_de_jure_liege_title = title:k_lotharingia
					}
				}
			}

			# Change Salia's title name to "Frankish Kingdom"
			title:k_franks = {
				set_title_name = k_franks_united
				set_definitive_form = yes
				set_de_jure_liege_title = title:e_france
			}

			# Create the title and/or change the owner
			create_title_and_vassal_change = {
				type = created
				save_scope_as = title_change
				add_claim_on_loss = no
			}
			title:k_franks = {
				change_title_holder = {
					holder = root
					change = scope:title_change
				}
			}
			resolve_title_and_vassal_change = scope:title_change		
			set_primary_title_to = title:k_franks
		}
	}
	option = {
		name = germanic_events.0002.option
		unite_franks_culture_effect = yes
		custom_tooltip = germanic_events.0002.option.tooltip
	}
}

germanic_events.0003 = {
	title = germanic_events.0003.t
	desc = germanic_events.0003.desc
	scope = character
	theme = martial

	override_background = {
		reference = battlefield
	}
	left_portrait = {
		character = root
		animation = personality_honorable
	}

	option = {
		name = germanic_events.0003.option.a
		start_war = {
			cb = invasion_of_soissons_cb
			target = title:k_france.holder
			target_title = title:k_france
		}
		spawn_army = {
			name = FRANKISH_GLORYHOUNDS
			inheritable = yes
			levies = 7000
			men_at_arms = {
				type = bowmen
				stacks = 15
			}
			men_at_arms = {
				type = light_horsemen
				stacks = 10
			}
			men_at_arms = {
				type = light_footmen
				stacks = 15
			}
			location = root.capital_province
		}
		ai_chance = { base = 10 }
	}
	option = {
		name = germanic_events.0003.b
		title:k_france.holder = {
			add_opinion = {
				target = root
				opinion = 100
				years = 5
				modifier = stood_by_me_opinion
			}
		}
		ai_chance = { base = 0 }
	}
}

germanic_events.0004 = {
	title = germanic_events.0004.t
	desc = germanic_events.0004.desc
	scope = character
	theme = martial
	override_background = {
		reference = throne_room
	}
	left_portrait = {
		character = root
		animation = worry
	}
	right_portrait = {
		character = scope:attacker
		animation = personality_honorable
	}

	option = {
		name = germanic_events.0004.a
		scope:war = {
			add_attacker = root
		}
		ai_chance = { base = 30 }
	}
	option = {
		name = germanic_events.0004.b
		add_prestige = 100
		title:k_france.holder = {
			add_opinion = {
				target = root
				opinion = 50
				years = 5
				modifier = stood_by_me_opinion
			}
		}
		scope:attacker = {
			add_unpressed_claim = root.primary_title
		}
		ai_chance = { base = 5 }
	}
}

germanic_events.0005 = {
	title = germanic_events.0005.t
	desc = germanic_events.0005.desc
	scope = character
	theme = martial

	override_background = {
		reference = battlefield
	}
	left_portrait = {
		character = root
		animation = personality_honorable
	}

	option = {
		name = germanic_events.0005.option.a
	}
}

germanic_events.0006 = {
	title = germanic_events.0006.t
	desc = germanic_events.0006.desc
	scope = character
	theme = martial

	override_background = {
		reference = battlefield
	}
	left_portrait = {
		character = root
		animation = anger
	}
	right_portrait = {
		character = title:k_visigoths.holder
		animation = personality_honorable
	}

	option = {
		name = germanic_events.0006.option.a
		start_war = {
			cb = domination_over_gaul_cb
			target = title:k_visigoths.holder
		}
	}
}

germanic_events.0007 = {
	title = germanic_events.0007.t
	desc = germanic_events.0007.desc
	scope = character
	theme = martial

	override_background = {
		reference = battlefield
	}
	left_portrait = {
		character = root
		animation = worry
	}
	right_portrait = {
		character = title:e_byzantium.holder
		animation = personality_honorable
	}
	immediate = {
		title:e_byzantium.holder = {
			save_scope_as = ere_emperor_0007
		}
	}
	option = {
		name = germanic_events.0007.option.a
		title:k_italy.holder = {
			trigger_event = germanic_events.0008
		}
		add_unpressed_claim	= title:k_italy
		start_war = {
			cb = italian_gothic_invasion_cb
			target = title:k_italy.holder
			target_title = title:k_italy
			claimant = root
		}
		spawn_army = {
			name = gothic_event_troops
			inheritable = yes
			levies = 4000
			men_at_arms = {
				type = bowmen
				stacks = 10
			}
			men_at_arms = {
				type = light_horsemen
				stacks = 8
			}
			men_at_arms = {
				type = light_footmen
				stacks = 10
			}
			location = root.capital_province
		}
		add_prestige = -50
		ai_chance = { 
			base = 10 
		}
	}
	option = {
		name = germanic_events.0007.option.b
		title:e_byzantium.holder = {
			add_unpressed_claim	= title:k_italy
			add_unpressed_claim	= scope:ere_italy_invader.primary_title
			trigger_event = germanic_events.0009
			add_opinion = {
				target = root
				opinion = -200
				years = 30
				modifier = ignored_emperor_call
			}
		}
		ai_chance = { base = 1 }

	}
}

germanic_events.0008 = {
	title = germanic_events.0008.t
	desc = germanic_events.0008.desc
	scope = character
	theme = martial

	override_background = {
		reference = battlefield
	}
	left_portrait = {
		character = root
		animation = anger
	}
	right_portrait = {
		character = scope:ere_italy_invader
		animation = anger
	}

	option = {
		name = germanic_events.0008.option.a
	}
}

germanic_events.0009 = {
	title = germanic_events.0009.t
	desc = germanic_events.0009.desc
	scope = character
	theme = martial

	override_background = {
		reference = battlefield
	}
	left_portrait = {
		character = root
		animation = anger
	}
	right_portrait = {
		character = title:k_ostrogoths.holder
		animation = worry
	}

	option = {
		name = germanic_events.0009.option.a
	}
}

germanic_events.0010 = {
	title = germanic_events.0010.t
	desc = germanic_events.0010.desc
	scope = character
	theme = martial

	override_background = {
		reference = throne_room
	}
	left_portrait = {
		character = root
		animation = anger
	}
	right_portrait = {
		character = scope:italy_holder_dissent
		animation = anger
	}

	option = {
		name = germanic_events.0010.option.a
		add_character_modifier = {
			modifier = sow_dissent_ere
			years = 2
		}
		add_prestige = -200
	}
}

#New Ostrogoth Italy Invasion Event
germanic_events.0011 = {
	title = germanic_events.0007.t
	desc = germanic_events.0007.desc
	scope = character
	theme = martial

	override_background = {
		reference = battlefield
	}
	left_portrait = {
		character = root
		animation = worry
	}
	right_portrait = {
		character = title:e_byzantium.holder
		animation = personality_honorable
	}
	immediate = {
		title:e_byzantium.holder = {
			save_scope_as = ere_emperor_0007
		}
	}
	option = {
		name = germanic_events.0007.option.a
		title:k_italy.holder = {
			trigger_event = germanic_events.0008
		}
		add_unpressed_claim	= title:k_italy
		start_war = {
			cb = italian_gothic_invasion_cb_theodoric #Need one that accounts for Theodoric's ERE lands returning to Zenon
			target = title:k_italy.holder
			target_title = title:k_italy
			claimant = root
		}
		spawn_army = {
			name = gothic_event_troops
			inheritable = yes
			levies = 2000
			men_at_arms = {
				type = bowmen
				stacks = 4
			}
			men_at_arms = {
				type = light_horsemen
				stacks = 4
			}
			men_at_arms = {
				type = light_footmen
				stacks = 6
			}
			location = root.capital_province
		}
		spawn_army = {
			name = gothic_event_troops
			inheritable = no
			levies = 2000
			men_at_arms = {
				type = bowmen
				stacks = 4
			}
			men_at_arms = {
				type = light_horsemen
				stacks = 4
			}
			men_at_arms = {
				type = light_footmen
				stacks = 6
			}
			location = root.capital_province
		}
		add_character_modifier = {
			modifier = zenos_blessing
			years = 10
		}
		add_prestige = -500
		ai_chance = { 
			base = 10 
		}
	}
	
	option = {
		name = germanic_events.0011.option.b
		title:e_byzantium.holder = {
			add_unpressed_claim	= title:k_italy
			add_unpressed_claim	= title:k_ostrogoths
			trigger_event = germanic_events.0009
			add_opinion = {
				target = root
				opinion = -200
				years = 30
				modifier = ignored_emperor_call
			}
		}
		add_unpressed_claim = title:k_croatia
		add_unpressed_claim = title:k_daciae
		add_character_modifier = pillager_king
		spawn_army = {
			name = gothic_event_troops
			inheritable = yes
			levies = 3000
			men_at_arms = {
				type = bowmen
				stacks = 6
			}
			men_at_arms = {
				type = light_horsemen
				stacks = 6
			}
			men_at_arms = {
				type = light_footmen
				stacks = 10
			}
			location = root.capital_province
		}
		spawn_army = {
			name = gothic_event_troops
			inheritable = no
			levies = 3000
			men_at_arms = {
				type = bowmen
				stacks = 6
			}
			men_at_arms = {
				type = light_horsemen
				stacks = 6
			}
			men_at_arms = {
				type = light_footmen
				stacks = 10
			}
			location = root.capital_province
		}
		add_gold = 500
		add_prestige = 1000

		ai_chance = { base = 1 }

	}
}

# Century Storms
germanic_events.0101 = {
	title = germanic_events.0101.t
	desc = germanic_events.0101.desc
	theme = stewardship
	scope = character

	override_background = {
		reference = fp1_ocean
	}

	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:sunken_merchant
		animation = worry
	}

	immediate = {
		create_character = {
			location = root.location
			template = century_storms_character
			save_scope_as = sunken_merchant
		}
	}

	# I pity the poor man.
	option = {
		name = germanic_events.0101.option.a
		add_piety = -5
		remove_short_term_gold = minor_gold_value
		add_character_modifier = {
			modifier = patron_of_trade
			years = 5
		}
		stress_impact = {
			greedy = minor_stress_impact_gain
			cynical = minor_stress_impact_gain
			generous = minor_stress_impact_loss
			forgiving = minor_stress_impact_loss
			compassionate = medium_stress_impact_loss
			callous = medium_stress_impact_gain
			sadistic = major_stress_impact_gain
		}
		ai_chance = { base = 1.3 }
	}

	# We can put him in our service instead.
	option = {
		name = germanic_events.0101.option.b
		remove_short_term_gold = medium_gold_value
		add_prestige = 15
		add_courtier = scope:sunken_merchant
		stress_impact = {
			lazy = minor_stress_impact_gain
			content = minor_stress_impact_gain
			trusting = minor_stress_impact_loss
		}
	}

	# Oh no, the ship sank... so sad.
	option = {
		name = germanic_events.0101.option.c
		add_prestige = -30
		add_gold = 30
		stress_impact = {
			forgiving = minor_stress_impact_gain
			arrogant = minor_stress_impact_loss
			callous = medium_stress_impact_loss
			sadistic = medium_stress_impact_loss
			compassionate = major_stress_impact_gain
		}
	}
}

germanic_events.0012 = {
	title = germanic_events.0012.t
	desc = germanic_events.0012.desc
	scope = character
	theme = diplomacy

	left_portrait = {
		character = scope:seller
		animation = personality_greedy
	}

	right_portrait = {
		character = scope:buyer
		animation = personality_honorable
	}

	immediate = {
		root = {
			save_scope_as = seller
		}
		if = {
			limit = {
				title:e_italy = {
					is_title_created = yes
				}
			}
			title:e_italy.holder = {
				save_scope_as = buyer
			}
		}
		else_if = {
			limit = {
				AND = {
					title:k_sicily = {
						is_title_created = yes
					}
					NOT = { has_title = title:k_sicily }
					title:k_sicily.holder = {
						is_independent_ruler = yes
					}
				}
			}
			title:k_sicily.holder = {
				save_scope_as = buyer
			}
		}
		else_if = {
			limit = {
				AND = {
					title:k_italy = {
						is_title_created = yes
					}
					NOT = { has_title = title:k_italy }
					title:k_italy.holder = {
						is_independent_ruler = yes
					}
				}
			}
			title:k_italy.holder = {
				save_scope_as = buyer
			}
		}
	}
	option = {
		name = germanic_events.0012.option.a
		scope:buyer = {
			trigger_event = {
				id = germanic_events.0013
				days = 1
			}
		}
		ai_chance = { base = 100 }
	}
	option = {
		name = germanic_events.0012.option.b
		ai_chance = { base = 0 }
	}
}

germanic_events.0013 = {
	title = germanic_events.0013.t
	desc = germanic_events.0013.desc
	scope = character
	theme = diplomacy

	left_portrait = {
		character = scope:seller
		animation = personality_greedy
	}

	right_portrait = {
		character = scope:buyer
		animation = personality_honorable
	}

	immediate = {
		scope:seller = {
			set_variable = {
				name = gold_cost
				value = 0
			}
		}
		scope:seller = {
			every_sub_realm_county = {
				limit = {
					NOT = { this = title:c_trapani }
					NOT = { this = title:c_malta }
					duchy = title:d_sicily
				}
				scope:seller = {
					change_variable = {
						name = gold_cost
						add = 75
					}
				}
				add_to_list = transfer_list
			}
		}
	}

	option = {
		name = germanic_events.0013.option.a
		scope:buyer = {
			pay_short_term_gold = {
				target = scope:seller
				gold = scope:seller.var:gold_cost
			}
		}
		scope:seller = {
			every_sub_realm_county = {
				limit = {
					NOT = { holder = scope:seller }
					OR = {
						this = title:c_trapani
						this = title:c_malta
					}
				}
				create_title_and_vassal_change = {
					type = granted
					save_scope_as = change
					add_claim_on_loss = no
				}
				change_title_holder_include_vassals = {
					holder = scope:seller
					change = scope:change
				}
				resolve_title_and_vassal_change = scope:change
			}
			every_held_title = {
				limit = {
					tier = tier_county
					duchy = title:d_sicily
					NOT = { this = title:c_trapani }
					NOT = { this = title:c_malta }
				}
				create_title_and_vassal_change = {
					type = granted
					save_scope_as = change
					add_claim_on_loss = no
				}
				change_title_holder_include_vassals = {
					holder = scope:buyer
					change = scope:change
				}
				resolve_title_and_vassal_change = scope:change
			}
			every_vassal = {
				limit = {
					capital_county = {
						duchy = title:d_sicily
					}
				}
				create_title_and_vassal_change = {
					type = granted
					save_scope_as = change
					add_claim_on_loss = no
				}
				change_liege = {
					liege = scope:buyer
					change = scope:change
				}
				resolve_title_and_vassal_change = scope:change
			}
		}
		scope:seller = {
			add_opinion = {
				target = scope:buyer
				opinion = 20
				modifier = friendliness_opinion
			}
		}
		scope:buyer = {
			add_opinion = {
				target = scope:seller
				opinion = 20
				modifier = friendliness_opinion
			}
		}
		scope:buyer = {
			add_truce_both_ways = {
				character = scope:seller
				years = 10
				name = SICILY_TRUCE
				result = white_peace
			}
		}
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:concession_of_italy_decision
		}
		ai_chance = { base = 100 }
	}
	option = {
		name = germanic_events.0013.option.b
		scope:seller = {
			add_opinion = {
				target = scope:buyer
				opinion = -20
				modifier = disappointed_opinion
			}
		}
		scope:buyer = {
			add_opinion = {
				target = scope:seller
				opinion = -20
				modifier = respect_opinion
			}
		}
		ai_chance = { base = 0 }
	}
}





germanic_events.0016 = {
	title = germanic_events.0016.t
	desc = germanic_events.0016.desc
	theme = martial
	scope = character

	override_icon = { reference = "gfx/interface/icons/event_types/special_rhomaion.dds" }

	override_background = {
		reference = battlefield
	}

	left_portrait = {
		character = scope:ostrogoth_king
		animation = anger
	}

	right_portrait = {
		character = scope:roman_king
		animation = personality_bold
	}

	option = {
		name = germanic_events.0016.a
		scope:roman_king = {
			every_character_war = {
				if = {
					limit = {
						PREV = { is_defender_in_war = PREV }
					}
					add_defender = root
				}
			}
		}
		if = {
			limit = {
				exists = title:k_daciae.holder
				title:k_daciae.holder = {
					is_vassal_of = scope:emperor
				}
			}
			scope:roman_king = {
				every_character_war = {
					if = {
						limit = {
							PREV = { is_defender_in_war = PREV }
						}
						add_defender = title:k_daciae.holder
					}
				}
		}
		}
		ai_chance = { base = 100 }
	}
}

germanic_events.0017 = {
	title = germanic_events.0017.t
	desc = germanic_events.0017.desc
	theme = martial
	scope = character

	override_background = {
		reference = battlefield
	}

	left_portrait = {
		character = scope:ostrogoth_king
		animation = anger
	}

	right_portrait = {
		character = scope:roman_king
		animation = personality_bold
	}

	option = {
		name = germanic_events.0017.a
		ai_chance = { base = 100 }
	}
}

germanic_events.0018 = {
	title = germanic_events.0018.t
	desc = germanic_events.0018.desc
	theme = martial
	scope = character

	override_background = {
		reference = battlefield
	}

	left_portrait = {
		character = scope:ostrogoth_king
		animation = anger
	}

	right_portrait = {
		character = scope:roman_king
		animation = personality_bold
	}

	immediate = {
		if = {
			limit = {
				liege = scope:roman_king
			}
			scope:roman_king = {
				save_scope_as = current_liege
			}
			scope:ostrogoth_king = {
				save_scope_as = new_liege
			}
		}
		else = {
			scope:roman_king = {
				save_scope_as = new_liege
			}
			scope:ostrogoth_king = {
				save_scope_as = current_liege
			}
		}
	}

	option = {
		name = germanic_events.0018.a
		reverse_add_opinion = {
			modifier = disappointed_opinion
			target = scope:new_liege
			opinion = -20
		}
		reverse_add_opinion = {
			modifier = respect_opinion
			target = scope:current_liege
			opinion = 20
		}
		ai_chance = { base = 100 }
	}
	option = {
		name = germanic_events.0018.b
		reverse_add_opinion = {
			modifier = disappointed_opinion
			target = scope:current_liege
			opinion = -20
		}
		reverse_add_opinion = {
			modifier = respect_opinion
			target = scope:new_liege
			opinion = 20
		}

		create_title_and_vassal_change = {
			type = swear_fealty
			save_scope_as = change
			add_claim_on_loss = no
		}
		change_liege = {
			liege = scope:new_liege
			change = scope:change
		}
		resolve_title_and_vassal_change = scope:change

		ai_chance = { base = 100 }
	}
	option = {
		name = germanic_events.0018.c
		reverse_add_opinion = {
			modifier = anger_opinion
			target = scope:new_liege
			opinion = -20
		}
		reverse_add_opinion = {
			modifier = anger_opinion
			target = scope:current_liege
			opinion = -20
		}
		create_title_and_vassal_change = {
			type = independency 
			save_scope_as = change
		}
		becomes_independent = {
			change = scope:change
		}
		resolve_title_and_vassal_change = scope:change

		ai_chance = { base = 100 }
	}
}



germanic_events.0024 = {
	title = germanic_events.0024.t
	desc =  germanic_events.0024.desc
	scope = character
	theme = diplomacy
	override_background = {
		reference = battlefield
	}
	left_portrait = {
		character = root
		animation = personality_honorable
	}

	immediate = {
		play_music_cue = "TFE_General_Cue"
	}

	option = {
		name = germanic_events.0024.option
		custom_tooltip = germanic_events.0024.option.tooltip
	}
}



germanic_events.0026 = {
	type = character_event
	title = germanic_events.0026.t
	desc = germanic_events.0026.desc
	override_icon = { reference = "gfx/interface/icons/event_types/special_rhomaion.dds" }
	theme = realm
	left_portrait = {
		character = root
		animation = personality_honorable
	}

	option = {
		name = germanic_events.0026.a
		ai_chance = {
			base = 100
		}		
	}
}

germanic_events.0027 = {
	type = character_event
	title = germanic_events.0027.t
	desc = germanic_events.0027.desc
	override_icon = { reference = "gfx/interface/icons/event_types/special_rhomaion.dds" }
	theme = realm
	left_portrait = {
		character = root
		animation = personality_honorable
	}

	option = {
		name = germanic_events.0027.a
		scope:war = {
			add_attacker = root
		}
		ai_chance = {
			base = 100
		}		
	}
}



germanic_events.0029 = {
	title = germanic_events.0029.t
	desc = germanic_events.0029.desc
	theme = martial
	scope = character

	override_background = {
		reference = battlefield
	}

	left_portrait = {
		character = scope:ostrogoth_king
		animation = personality_bold
	}

	right_portrait = {
		character = scope:emperor
		animation = anger
	}

	option = {
		name = germanic_events.0029.a
		ai_chance = { base = 100 }
	}
}

germanic_events.0030 = {
	title = germanic_events.0030.t
	desc = germanic_events.0030.desc
	theme = martial
	scope = character

	override_background = {
		reference = battlefield
	}

	left_portrait = {
		character = scope:ostrogoth_king
		animation = personality_bold
	}

	right_portrait = {
		character = scope:emperor
		animation = anger
	}

	immediate = {
		scope:ostrogoth_king = {
			every_vassal = {
				add_to_list = switch_vassals
			}
			random_vassal_or_below = {
				limit = {
					culture = { has_cultural_pillar = heritage_east_germanic }
					any_held_title = {
						OR = {
							tier = tier_county
							tier = tier_duchy
						}
						OR = {
							kingdom = title:k_italy
							kingdom = title:k_italia_annonariae
							kingdom = title:k_italia_suburbicariae
						}
					}
				}
				weight = {
					base = 1
					modifier = {
						add = 5
						primary_title.tier >= tier_duchy
					}
					modifier = {
						add = martial
					}
					modifier = {
						add = martial
					}
					modifier = {
						add = martial
					}
					modifier = {
						add = martial
					}
					modifier = {
						add = martial
					}
				}
				save_scope_as = ostrogoth_king_replacement
			}
		}
	}

	option = {
		name = germanic_events.0030.a
		spawn_army = {
			name = "Ostrogoth Loyalists"
			levies = 1000
			men_at_arms = {
				type = bowmen
				stacks = 2
			}
			men_at_arms = {
				type = light_horsemen
				stacks = 2
			}
			men_at_arms = {
				type = light_footmen
				stacks = 2
			}
			location = scope:ostrogoth_king.capital_province
		}
		spawn_army = {
			name = "Ostrogoth Loyalists"
			levies = 1000
			men_at_arms = {
				type = bowmen
				stacks = 2
			}
			men_at_arms = {
				type = light_horsemen
				stacks = 2
			}
			men_at_arms = {
				type = light_footmen
				stacks = 2
			}
			location = scope:ostrogoth_king.capital_province
		}
		spawn_army = {
			name = "Ostrogoth Loyalists"
			levies = 1000
			men_at_arms = {
				type = bowmen
				stacks = 2
			}
			men_at_arms = {
				type = light_horsemen
				stacks = 2
			}
			men_at_arms = {
				type = light_footmen
				stacks = 2
			}
			location = scope:ostrogoth_king.capital_province
		}
		spawn_army = {
			name = "Ostrogoth Loyalists"
			levies = 1000
			men_at_arms = {
				type = bowmen
				stacks = 2
			}
			men_at_arms = {
				type = light_horsemen
				stacks = 2
			}
			men_at_arms = {
				type = light_footmen
				stacks = 2
			}
			location = scope:ostrogoth_king.capital_province
		}
		scope:ostrogoth_king = {
			set_relation_rival = {
				target = scope:emperor
				reason = rival_usurper
			}
			add_prestige = 500
			start_war = {
				cb = gothic_independence_war
				target = scope:emperor
			}
		}
		ai_chance = { base = 100 }
	}
	option = {
		name = germanic_events.0030.b
		create_title_and_vassal_change = {
			type = created
			save_scope_as = change
			add_claim_on_loss = no
		}
		title:k_ostrogoths = {
			change_title_holder_include_vassals = {
				holder = scope:ostrogoth_king_replacement
				change = scope:change
			}
		}
		every_in_list = {
			list = switch_vassals
			change_liege = {
				liege = scope:ostrogoth_king_replacement
				change = scope:change
			}
		}
		resolve_title_and_vassal_change = scope:change

		create_title_and_vassal_change = {
			type = swear_fealty
			save_scope_as = change
		}
		scope:ostrogoth_king = {
			change_liege = {
				liege = scope:emperor
				change = scope:change
			}
		}
		resolve_title_and_vassal_change = scope:change

		scope:ostrogoth_king_replacement = {
			save_scope_as = ostrogoth_king
		}

		scope:ostrogoth_king = {
			spawn_army = {
				name = "Ostrogoth Loyalists"
				levies = 1000
				men_at_arms = {
					type = bowmen
					stacks = 2
				}
				men_at_arms = {
					type = light_horsemen
					stacks = 2
				}
				men_at_arms = {
					type = light_footmen
					stacks = 2
				}
				location = scope:ostrogoth_king.capital_province
			}
			spawn_army = {
				name = "Ostrogoth Loyalists"
				levies = 1000
				men_at_arms = {
					type = bowmen
					stacks = 2
				}
				men_at_arms = {
					type = light_horsemen
					stacks = 2
				}
				men_at_arms = {
					type = light_footmen
					stacks = 2
				}
				location = scope:ostrogoth_king.capital_province
			}
			spawn_army = {
				name = "Ostrogoth Loyalists"
				levies = 1000
				men_at_arms = {
					type = bowmen
					stacks = 2
				}
				men_at_arms = {
					type = light_horsemen
					stacks = 2
				}
				men_at_arms = {
					type = light_footmen
					stacks = 2
				}
				location = scope:ostrogoth_king.capital_province
			}
			spawn_army = {
				name = "Ostrogoth Loyalists"
				levies = 1000
				men_at_arms = {
					type = bowmen
					stacks = 2
				}
				men_at_arms = {
					type = light_horsemen
					stacks = 2
				}
				men_at_arms = {
					type = light_footmen
					stacks = 2
				}
				location = scope:ostrogoth_king.capital_province
			}
			set_relation_rival = {
				target = scope:emperor
				reason = rival_usurper
			}
			add_prestige = 500
			start_war = {
				cb = gothic_independence_war
				target = scope:emperor
			}
		}

		ai_chance = { base = 0 }
	}
}

germanic_events.0031 = {
	title = germanic_events.0031.t
	desc = germanic_events.0031.desc
	theme = martial
	scope = character

	override_background = {
		reference = battlefield
	}

	left_portrait = {
		character = scope:ostrogoth_king
		animation = personality_bold
	}

	right_portrait = {
		character = scope:emperor
		animation = anger
	}

	immediate = {
		if = {
			limit = {
				liege = scope:emperor
			}
			scope:emperor = {
				save_scope_as = current_liege
			}
			scope:ostrogoth_king = {
				save_scope_as = new_liege
			}
		}
		else = {
			scope:emperor = {
				save_scope_as = new_liege
			}
			scope:ostrogoth_king = {
				save_scope_as = current_liege
			}
		}
	}

	option = {
		name = germanic_events.0031.a
		reverse_add_opinion = {
			modifier = disappointed_opinion
			target = scope:new_liege
			opinion = -20
		}
		reverse_add_opinion = {
			modifier = respect_opinion
			target = scope:current_liege
			opinion = 20
		}
		ai_chance = { base = 100 }
	}
	option = {
		name = germanic_events.0031.b
		reverse_add_opinion = {
			modifier = disappointed_opinion
			target = scope:current_liege
			opinion = -20
		}
		reverse_add_opinion = {
			modifier = respect_opinion
			target = scope:new_liege
			opinion = 20
		}

		create_title_and_vassal_change = {
			type = swear_fealty
			save_scope_as = change
			add_claim_on_loss = no
		}
		change_liege = {
			liege = scope:new_liege
			change = scope:change
		}
		resolve_title_and_vassal_change = scope:change

		ai_chance = { base = 100 }
	}
	option = {
		name = germanic_events.0031.c
		reverse_add_opinion = {
			modifier = anger_opinion
			target = scope:new_liege
			opinion = -20
		}
		reverse_add_opinion = {
			modifier = anger_opinion
			target = scope:current_liege
			opinion = -20
		}
		create_title_and_vassal_change = {
			type = independency 
			save_scope_as = change
		}
		becomes_independent = {
			change = scope:change
		}
		resolve_title_and_vassal_change = scope:change

		ai_chance = { base = 100 }
	}
}



germanic_events.0034 = {
	type = character_event
	title = germanic_events.0034.t
	desc = germanic_events.0034.desc
	override_icon = { reference = "gfx/interface/icons/event_types/special_rhomaion.dds" }
	theme = realm
	trigger = {
		NOT = { root = scope:ostrogoth_king }
	}
	left_portrait = {
		character = root
		animation = personality_honorable
	}

	option = {
		name = germanic_events.0034.a
		set_player_character = scope:ostrogoth_king
		ai_chance = {
			base = 0
		}		
	}
	option = {
		name = germanic_events.0034.b
		ai_chance = {
			base = 100
		}		
	}
}